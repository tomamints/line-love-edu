# 12ヶ月間運勢システム設計書

## 概要
おつきさま診断における12ヶ月間を通じた長期的運勢システム。日単位の変動ではなく、月相パターンに基づいた12ヶ月間の大きな流れと期間的なエネルギー変化を重視したアプローチ。

---

## 基本コンセプト

### 従来システムからの変更点
1. **日単位変動の廃止**: 毎日変わる運勢スコアを廃止
2. **12ヶ月テーマの導入**: その人の12ヶ月間を貫く基本テーマを設定
3. **期間的フロー**: 診断日からのリズムに合わせた12ヶ月の運勢変化
4. **転換点の明確化**: 12ヶ月間を通じた重要な変化のタイミング
5. **質的表現**: 数値化ではなく、物語性のある質的な表現

---

## 年間運勢の構造

### 1. 12ヶ月基本テーマ（Annual Core Theme）
64パターン（月相×裏月相）ごとに設定される、その人の12ヶ月を貫く基本的な流れ

#### テーマ例：
- **新月×新月**: 「創造と始まりの12ヶ月」
- **満月×三日月**: 「完成から成長への循環」
- **下弦の月×上弦の月**: 「効率と決断の調和」
- **暁×暁**: 「変革と適応の12ヶ月」

### 2. 季節的エネルギーフロー（Seasonal Energy Flow）
一年を通じた自然なエネルギーの変化と、各月相タイプへの影響

#### 第1期（1-3ヶ月目）: 芽吹きと始動
- **新月系タイプ**: 最高エネルギー期、新規プロジェクト開始に最適
- **三日月系タイプ**: 成長エネルギー活性化、スキルアップに最適
- **上弦の月系タイプ**: 戦略立案期、長期計画の策定に適している
- **十三夜系タイプ**: 安定的成長期、基盤強化に向く
- **満月系タイプ**: 情熱上昇期、大きな目標設定に適している
- **十六夜系タイプ**: 成熟した判断期、経験を活かした展開
- **下弦の月系タイプ**: 効率化推進期、システム改善に最適
- **暁系タイプ**: 変化対応期、新しい環境への適応

#### 第2期（4-6ヶ月目）: 活動と実現
- **全タイプ共通**: 活動エネルギーが最高潮に達する期間
- **恋愛運**: 全般的に恋愛運が高まり、情熱的な展開が期待
- **仕事運**: 成果を出すのに最適な時期、大きなプロジェクトの完成
- **対人運**: 新しい出会いや既存関係の深化

#### 第3期（7-9ヶ月目）: 収穫と調和
- **満月系タイプ**: 完成エネルギー最高潮、大きな成果を収穫
- **十三夜系タイプ**: 安定と調和の完成形、理想的な状態の実現
- **下弦の月系タイプ**: 効率の成果が見える化、システムの完成
- **全体的**: 第1期に始めたことの成果が現れる時期

#### 第4期（10-12ヶ月目）: 内省と準備
- **暁系タイプ**: 内面充実期、次の変化への準備に最適
- **三日月系タイプ**: 自己成長期、スキルや知識の蓄積
- **全体的**: 外向きよりも内向きのエネルギーが強い時期
- **次期準備**: 次の12ヶ月サイクルの計画と準備に適した期間

### 3. 12ヶ月転換点（12-Month Turning Points）
12ヶ月を通じて訪れる重要なエネルギーシフトのタイミング

#### 主要転換点：
1. **1～3ヶ月目**: 「始動の転換点」
   - 新しいサイクルの開始
   - 重要な決断と行動開始の時期
   
2. **4～6ヶ月目**: 「活動の頂点」
   - エネルギーが最高潮に達する
   - 大きな成果や成就の時期
   
3. **7～9ヶ月目**: 「収穫と統合」
   - 前半期の成果を確認・統合
   - 関係性の深化や安定化
   
4. **10～12ヶ月目**: 「内省と準備」
   - 12ヶ月の振り返りと次期への準備
   - 内面的な成長と充実

---

## 運勢カテゴリー別の12ヶ月パターン

### 全体運の12ヶ月フロー
月相パターンごとの12ヶ月を通じた全体的な運気の流れ

#### 新月系パターンの12ヶ月フロー例：
```
1-2ヶ月目: 準備期間（次の始まりに向けたエネルギー蓄積）
3-5ヶ月目: 開始期（新プロジェクト・新生活のスタート）
6-8ヶ月目: 発展期（始めたことが軌道に乗り、大きく展開）
9-11ヶ月目: 成果期（第1期の種まきが実を結ぶ時期）
12ヶ月目: 統合期（12ヶ月の成果を統合し、次への準備）
```

#### 満月系パターンの12ヶ月フロー例：
```
1-3ヶ月目: エネルギー充電期（内面の豊かさを蓄える）
4-6ヶ月目: 開花期（才能や魅力が最大限に発揮される）
7-9ヶ月目: 完成期（大きなプロジェクトや関係が完成）
10-12ヶ月目: 統合・指導期（成果を活かして他者をサポート）
```

### 恋愛運の12ヶ月パターン
64パターン×個性要素の組み合わせによる、個人化された恋愛運の12ヶ月フロー

#### 基本構造：
1. **出会いの時期**: いつ、どのような出会いが期待できるか
2. **関係発展期**: 関係が深まる時期とそのパターン
3. **試練・調整期**: 関係の課題と成長の機会
4. **安定・深化期**: 関係が安定し、さらに深まる時期

#### 個性要素の統合：
- **エネルギータイプ**: 恋愛エネルギーの12ヶ月変化パターン
- **価値観タイプ**: 重視する価値観の時期的変化
- **距離感タイプ**: 適切な距離感の12ヶ月調整
- **感情表現タイプ**: 表現スタイルの時期的適応

### 仕事運の12ヶ月パターン
キャリア発展の大きな流れと、各時期に適した行動指針

#### 月相タイプ別の仕事運12ヶ月パターン：

**革新系（新月、新月×暁など）**:
- 第1期: 新規プロジェクト立ち上げ
- 第2期: アイデアの実現と拡大
- 第3期: 成果の確認と次の準備
- 第4期: スキルアップと新技術習得

**成長系（三日月系パターン）**:
- 第1期: 能力向上と資格取得
- 第2期: 実績の積み重ね
- 第3期: 昇進・昇格のチャンス
- 第4期: 専門性の深化

**管理系（上弦の月系パターン）**:
- 第1期: チーム編成と戦略立案
- 第2期: プロジェクト管理と成果創出
- 第3期: 評価と次期計画
- 第4期: リーダーシップスキル向上

### 金運の12ヶ月パターン
資産形成と金銭管理の12ヶ月戦略

#### 投資・資産運用の12ヶ月サイクル：
1. **計画期（1-3ヶ月目）**: 12ヶ月の資産目標設定と戦略立案
2. **実行期（4-8ヶ月目）**: 投資の実行と活発な資産運用
3. **収穫期（9-11ヶ月目）**: 利益確定と資産の見直し
4. **整理期（12ヶ月目）**: 税務対策と次期への準備

#### 月相パターン別の金運傾向：
- **新月系**: 新しい投資先開拓、ベンチャー投資
- **成長系**: 長期的な資産形成、定期的な積立
- **安定系**: 堅実な投資、リスク管理重視
- **完成系**: 大きなリターン獲得、投資成果の実現

---

## 12ヶ月一貫性の保証システム

### 1. テーマ一貫性管理
12ヶ月を通じて基本テーマがぶれないよう、各時期の内容を調整

### 2. 時期調和システム
自然のリズムと個人の月相パターンが調和するよう、時期的要素を統合

### 3. 成長ストーリー設計
12ヶ月を通じて個人が成長していく物語として運勢を構成

### 4. バランス調整機能
特定の時期に偏重しないよう、12ヶ月全体でバランスの取れた内容を提供

---

## 実装における考慮事項

### 1. コンテンツ生成ロジック
```javascript
class TwelveMonthFortuneGenerator {
    generateTwelveMonthFortune(moonPattern, personalityTraits, diagnosisDate) {
        return {
            twelve_month_theme: this.defineTwelveMonthTheme(moonPattern),
            period_flow: this.generatePeriodFlow(moonPattern, personalityTraits, diagnosisDate),
            turning_points: this.identifyTurningPoints(moonPattern, diagnosisDate),
            category_patterns: {
                overall: this.generateOverallPattern(moonPattern, diagnosisDate),
                love: this.generateLovePattern(moonPattern, personalityTraits, diagnosisDate),
                career: this.generateCareerPattern(moonPattern, diagnosisDate),
                money: this.generateMoneyPattern(moonPattern, diagnosisDate)
            },
            growth_narrative: this.createGrowthNarrative(moonPattern, diagnosisDate)
        };
    }
}
```

### 2. 個人化要素の統合
- 月相パターンをベースとした基本構造
- 個性要素による細部のカスタマイゼーション
- 年齢や人生ステージを考慮した調整
- 診断日からの相対的時期計算

### 3. 質的表現システム
数値ではなく、物語性と感情に訴える表現を重視

### 4. 継続性とサプライズのバランス
予測可能な安心感と、適度な意外性のバランス

---

## 品質保証指標

1. **一貫性**: 12ヶ月を通じてテーマが一貫している
2. **自然さ**: 時期の流れと調和している
3. **個別性**: 個人の特性が適切に反映されている
4. **成長性**: 12ヶ月を通じた成長ストーリーが描かれている
5. **実用性**: 具体的で実践可能なアドバイスが含まれている

このシステムにより、従来の日々変動する運勢から脱却し、人生の大きな流れを理解できる、より説得力のある12ヶ月運勢診断が実現されます。

---

## 月齢カレンダー統合システム

### 今日の月相計算ロジック
```javascript
/**
 * 今日の月齢を計算する関数
 * @param {Date} date - 対象の日付
 * @returns {Object} 月齢情報
 */
function calculateCurrentMoonPhase(date = new Date()) {
  const baseNewMoon = new Date(2025, 0, 29); // 2025/01/29
  const millisecondsPerDay = 24 * 60 * 60 * 1000;
  const lunarCycle = 29.53058868; // 朔望周期（日）
  
  const daysDifference = (date.getTime() - baseNewMoon.getTime()) / millisecondsPerDay;
  const moonAge = ((daysDifference % lunarCycle) + lunarCycle) % lunarCycle;
  
  return {
    moonAge: Math.round(moonAge * 10) / 10,
    phaseName: getMoonPhaseName(moonAge),
    phaseEmoji: getMoonPhaseEmoji(moonAge),
    illumination: calculateIllumination(moonAge),
    nextPhase: getNextPhaseInfo(moonAge)
  };
}
```

### 12ヶ月期間重要な月相日付
```javascript
const getTwelveMonthMoonDates = (diagnosisDate) => {
  // 診断日から12ヶ月間の重要な月相を計算
  const startDate = new Date(diagnosisDate);
  const endDate = new Date(startDate);
  endDate.setMonth(endDate.getMonth() + 12);
  
  return {
    newMoons: calculateNewMoonsInPeriod(startDate, endDate),
    fullMoons: calculateFullMoonsInPeriod(startDate, endDate),
    specialPhases: calculateSpecialPhasesInPeriod(startDate, endDate)
  };
};
```

### 月相サイクル別推奨行動
- **新月期（月齢0-3.7日）**: 始まり、新プロジェクト立ち上げ
- **上弦期（月齢3.7-11.1日）**: 成長、積極的行動
- **満月期（月齢11.1-18.5日）**: 完成、成果確認
- **下弦期（月齢18.5-26日）**: 整理、手放し、内省