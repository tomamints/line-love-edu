# 相性データ動的表示の実装

## 概要
おつきさま診断の相性結果を、`01_aisyo_rank.md`に基づいた動的データで表示するように実装しました。

## 実装ファイル

### 1. `/core/fortune/compatibility-data.js`
- 全36パターンの相性ランキングデータを格納
- `getCompatibilityData(userType, partnerType)`関数で相性データを取得
- ユーザーの月タイプに応じたアドバイスのみを返す

### 2. `/utils/moon-formatter-v2.js`
- `compatibility-data.js`をインポートして動的データを使用
- カード1の表示内容を動的に変更：
  - 相性ランキング順位（第1位〜第36位）
  - 相性の理由
  - あなたとお相手の関係性
  - ユーザー向けアドバイス（相手のアドバイスは非表示）

## データ構造

```javascript
{
  score: 99,        // 相性スコア（0-100）
  rank: 3,          // ランキング順位（1-36）
  reason: '...',    // 相性の理由
  relationship: '...', // 関係性の説明
  userAdvice: '...'    // ユーザー向けアドバイス
}
```

## 月タイプのマッピング
- 新月、三日月、上弦の月、十三夜、満月、十六夜、下弦の月、暁
- 英語名（newMoon等）も日本語名に自動変換

## テスト結果
- 三日月 × 十六夜：99点（第3位）
- 新月 × 満月：100点（第1位）
- 満月 × 満月：55点（第36位）

すべて正常に動作を確認済み。
