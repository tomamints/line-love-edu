// 性格4軸の組み合わせテキスト（256パターン）
// 各軸の組み合わせによる統合的な性格診断文章

const PersonalityCombinations = {
    // 各軸のタイプを組み合わせた総合診断文を生成
    generateCombinedText: function(emotional, distance, values, energy) {
        // 基本的な組み合わせパターンを定義
        const key = `${emotional}_${distance}_${values}_${energy}`;
        
        // 特定の組み合わせに対する専用テキスト
        const specificCombinations = {
            // ストレート告白型の組み合わせ
            'ストレート告白型_ベッタリ依存型_ロマンチスト型_燃え上がり型': {
                title: '情熱的純愛タイプ',
                description: 'あなたは恋愛において、まさに「全力投球」を体現する情熱的なタイプです。好きになったら一直線、気持ちを隠すことなくストレートに愛を表現し、相手との時間を何よりも大切にします。ロマンチックな演出も大好きで、記念日には必ず特別なサプライズを用意。その燃えるような情熱は、相手を圧倒することもありますが、その純粋さと真剣さは必ず相手の心に響きます。',
                advice: '時には相手のペースも考慮して、少し冷静になる時間も大切にしましょう。あなたの情熱は素晴らしい魅力ですが、相手が息苦しく感じないよう、適度な距離感も意識すると、より長続きする関係が築けます。'
            },
            
            'ストレート告白型_ベッタリ依存型_ロマンチスト型_持続型': {
                title: '永遠の恋人タイプ',
                description: 'あなたは「運命の人」を信じ、一度愛した人を永遠に愛し続ける、まさに理想的な恋人タイプです。素直な愛情表現と、相手と常に繋がっていたいという願望、そしてロマンチックな価値観が組み合わさり、深く濃密な愛を育みます。一度始まった恋は、時間が経っても色褪せることなく、むしろ年月とともに深まっていく、美しい愛の形を実現できる人です。',
                advice: '素晴らしい愛の形ですが、相手にも自分の時間が必要なことを理解しましょう。また、日常の中にも新鮮さを取り入れることで、マンネリ化を防ぎ、永遠に続く愛をより豊かなものにできます。'
            },
            
            'ストレート告白型_安心セーフ型_現実主義型_持続型': {
                title: '安定愛情タイプ',
                description: 'あなたは恋愛において「安定」と「誠実さ」を最も大切にする、信頼できるパートナータイプです。気持ちは素直に伝えながらも、適度な距離感を保ち、現実的な判断力を持って関係を築いていきます。派手さはないかもしれませんが、その安定感と継続性は、パートナーに深い安心感を与え、長期的に幸せな関係を築く土台となります。',
                advice: '時にはロマンチックなサプライズや、日常から離れた特別な時間を作ることで、関係に新鮮さを加えましょう。安定は大切ですが、ときめきも恋愛の大切な要素です。'
            },
            
            'スキンシップ型_ベッタリ依存型_ロマンチスト型_燃え上がり型': {
                title: '濃密愛情タイプ',
                description: 'あなたの愛は、まるで映画のような濃密さと情熱に満ちています。触れ合いを通じて愛を確認し、常に一緒にいることで安心し、ロマンチックな演出で愛を彩る。その全てが燃えるような情熱と共に表現されます。相手はあなたの深い愛に包まれ、まるで二人だけの特別な世界にいるような幸福感を味わうでしょう。',
                advice: '愛の表現が濃密になりすぎて、相手が圧倒されないよう注意しましょう。また、言葉でも愛を伝えることで、スキンシップだけでは伝わらない想いも相手に届けることができます。'
            },
            
            'さりげない気遣い型_自由マイペース型_成長パートナー型_持続型': {
                title: '成熟した大人の愛タイプ',
                description: 'あなたは恋愛において、最も成熟した形の愛を実践できるタイプです。さりげない優しさで相手を支えながら、お互いの自由を尊重し、共に成長することを目指す。その姿勢を長期的に維持できるあなたは、理想的なパートナーシップを築けるでしょう。相手は、あなたといることで自分自身も成長でき、かつ自由でいられる、最高の関係を実感します。',
                advice: '素晴らしいバランスですが、時には情熱的な愛情表現も必要です。控えめすぎると、相手に愛情が伝わりにくいこともあるので、特別な日には思い切った表現も心がけましょう。'
            },
            
            '奥手シャイ型_壁あり慎重型_現実主義型_クール型': {
                title: '慎重派守りタイプ',
                description: 'あなたは恋愛において最も慎重で、自分の心を簡単には開かないタイプです。感情表現は控えめで、距離感も保ち、現実的な判断を重視し、恋愛に全てを捧げることはありません。この慎重さは、軽率な恋愛で傷つくことを避け、本当に価値のある関係だけを築くための賢明な選択です。一度築いた信頼関係は、誰よりも強固なものになるでしょう。',
                advice: '慎重さは大切ですが、時にはリスクを取ることも必要です。相手に心を開くのに時間がかかりすぎると、チャンスを逃すこともあります。小さな一歩から始めて、徐々に心を開いていきましょう。'
            }
        };
        
        // 特定の組み合わせがあればそれを返す
        if (specificCombinations[key]) {
            return specificCombinations[key];
        }
        
        // なければ汎用的な組み合わせ文を生成
        return this.generateGenericCombination(emotional, distance, values, energy);
    },
    
    // 汎用的な組み合わせ文章を生成
    generateGenericCombination: function(emotional, distance, values, energy) {
        // 各要素の特徴を組み合わせた文章を生成
        const emotionalTraits = {
            'ストレート告白型': '素直で真っ直ぐな愛情表現',
            'スキンシップ型': '触れ合いを大切にする愛情表現',
            'さりげない気遣い型': '細やかな配慮での愛情表現',
            '奥手シャイ型': '控えめながら深い愛情'
        };
        
        const distanceTraits = {
            'ベッタリ依存型': '常に一緒にいたいという強い結びつき',
            '安心セーフ型': '程よい距離感での安定した関係',
            '自由マイペース型': 'お互いの自由を尊重する関係',
            '壁あり慎重型': '慎重に距離を保ちながらの関係'
        };
        
        const valuesTraits = {
            'ロマンチスト型': 'ドラマチックで特別な瞬間',
            'リアリスト型': '現実的で堅実な価値観',
            '刺激ハンター型': '新鮮さとドキドキ',
            '成長パートナー型': '共に成長できる関係性'
        };
        
        const energyTraits = {
            '燃え上がり型': '情熱的で勢いのあるアプローチ',
            '持続型': '安定して長続きする愛情',
            '波あり型': 'メリハリのある愛情表現',
            'クール型': '冷静で落ち着いた愛情'
        };
        
        // タイトルを生成
        const title = this.generateTitle(emotional, distance, values, energy);
        
        // 説明文を生成
        const description = `あなたは${emotionalTraits[emotional]}を持ち、${distanceTraits[distance]}を求めます。恋愛において${valuesTraits[values]}を大切にし、${energyTraits[energy]}で関係を築いていくタイプです。この独特な組み合わせが、あなただけの特別な恋愛スタイルを作り出しています。`;
        
        // アドバイスを生成
        const advice = this.generateAdvice(emotional, distance, values, energy);
        
        return {
            title: title,
            description: description,
            advice: advice
        };
    },
    
    // タイトル生成ロジック
    generateTitle: function(emotional, distance, values, energy) {
        // 各組み合わせの特徴を元にタイトルを決定
        let title = '';
        
        // 主要な特徴を抽出してタイトルを作成
        if (emotional === 'ストレート告白型' && energy === '燃え上がり型') {
            title = '情熱直球';
        } else if (emotional === 'さりげない気遣い型' && distance === '自由マイペース型') {
            title = '自立思いやり';
        } else if (values === 'ロマンチスト型' && energy === '持続型') {
            title = '永遠のロマンス';
        } else if (distance === 'ベッタリ依存型' && emotional === 'スキンシップ型') {
            title = '密着愛情';
        } else if (values === 'リアリスト型' && energy === 'クール型') {
            title = '冷静現実';
        } else if (emotional === '奥手シャイ型' && distance === '壁あり慎重型') {
            title = '慎重純愛';
        } else {
            // デフォルトタイトル
            title = '独自スタイル';
        }
        
        return title + 'タイプ';
    },
    
    // アドバイス生成ロジック
    generateAdvice: function(emotional, distance, values, energy) {
        let advice = '';
        
        // 組み合わせに応じた具体的なアドバイス
        if (distance === 'ベッタリ依存型' && (energy === '燃え上がり型' || energy === '波あり型')) {
            advice = '愛情が強すぎて相手を圧倒しないよう、時には一歩引いて相手の反応を見ることも大切です。';
        } else if (emotional === '奥手シャイ型' && distance === '壁あり慎重型') {
            advice = '慎重になりすぎると機会を逃すこともあります。小さな勇気を出して、少しずつ心を開いていきましょう。';
        } else if (values === 'ロマンチスト型' && energy === 'クール型') {
            advice = 'ロマンチックな理想と冷静な態度のギャップに相手が戸惑うかもしれません。バランスを意識しましょう。';
        } else if (distance === '自由マイペース型' && emotional === 'ストレート告白型') {
            advice = '自由を大切にしながらも、愛情表現は素直なあなた。そのバランスが魅力ですが、相手に誤解されないよう、気持ちは定期的に伝えましょう。';
        } else {
            advice = 'あなたの独特な恋愛スタイルは、理解してくれる相手と出会った時に最高の関係を築けます。自分らしさを大切にしながら、相手の価値観も尊重することを忘れずに。';
        }
        
        return advice;
    },
    
    // 相性の良い組み合わせを判定
    getCompatibleTypes: function(emotional, distance, values, energy) {
        const compatibleTypes = [];
        
        // 補完的な相性
        if (emotional === 'ストレート告白型') {
            compatibleTypes.push('奥手シャイ型の相手（あなたのストレートさが相手を導く）');
        }
        if (distance === 'ベッタリ依存型') {
            compatibleTypes.push('安心セーフ型の相手（バランスの取れた関係に）');
        }
        if (values === 'ロマンチスト型') {
            compatibleTypes.push('リアリスト型の相手（理想と現実のバランス）');
        }
        if (energy === '燃え上がり型') {
            compatibleTypes.push('持続型の相手（情熱と安定の調和）');
        }
        
        // 類似的な相性
        if (distance === '自由マイペース型') {
            compatibleTypes.push('同じく自由マイペース型の相手（お互いを尊重）');
        }
        if (values === '成長パートナー型') {
            compatibleTypes.push('同じく成長を求める相手（共に高め合える）');
        }
        
        return compatibleTypes;
    }
};

// グローバルに公開
window.PersonalityCombinations = PersonalityCombinations;